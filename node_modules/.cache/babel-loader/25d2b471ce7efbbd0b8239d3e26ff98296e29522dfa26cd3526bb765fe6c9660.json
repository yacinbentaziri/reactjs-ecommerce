{"ast":null,"code":"import axios from \"axios\";\nconst jwtInterceptor = axios.create({});\njwtInterceptor.interceptors.response.use(response => {\n  return response;\n}, async error => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (error.response.data.msg == \"jwt expired\") {\n    const resp = await axios.get(\"http://localhost:8000/api/auth/refreshtoken/\" + user.data._id, {\n      withCredentials: true\n    }).catch(error => {\n      return Promise.reject();\n    });\n    console.log(resp);\n  }\n});\nexport default jwtInterceptor;","map":{"version":3,"names":["axios","jwtInterceptor","create","interceptors","response","use","error","user","JSON","parse","localStorage","getItem","data","msg","resp","get","_id","withCredentials","catch","Promise","reject","console","log"],"sources":["D:/mern-ecommerce/reactjs/src/helpers/jwtInterceptor.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst jwtInterceptor = axios.create({})\r\njwtInterceptor.interceptors.response.use(\r\n    (response) => {\r\n        return response\r\n    }, async (error) => {\r\n        const user = JSON.parse(localStorage.getItem(\"user\"))\r\n        if (error.response.data.msg == \"jwt expired\") {\r\n            const resp = await axios.get(\"http://localhost:8000/api/auth/refreshtoken/\" + user.data._id,\r\n                { withCredentials: true }\r\n            ).catch(error => {\r\n                return Promise.reject()\r\n            })\r\n            console.log(resp);\r\n        }\r\n    }\r\n)\r\nexport default jwtInterceptor"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,cAAc,GAAGD,KAAK,CAACE,MAAM,CAAC,CAAC,CAAC,CAAC;AACvCD,cAAc,CAACE,YAAY,CAACC,QAAQ,CAACC,GAAG,CACnCD,QAAQ,IAAK;EACV,OAAOA,QAAQ;AACnB,CAAC,EAAE,MAAOE,KAAK,IAAK;EAChB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAIL,KAAK,CAACF,QAAQ,CAACQ,IAAI,CAACC,GAAG,IAAI,aAAa,EAAE;IAC1C,MAAMC,IAAI,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAC,8CAA8C,GAAGR,IAAI,CAACK,IAAI,CAACI,GAAG,EACvF;MAAEC,eAAe,EAAE;IAAK,CAC5B,CAAC,CAACC,KAAK,CAACZ,KAAK,IAAI;MACb,OAAOa,OAAO,CAACC,MAAM,CAAC,CAAC;IAC3B,CAAC,CAAC;IACFC,OAAO,CAACC,GAAG,CAACR,IAAI,CAAC;EACrB;AACJ,CACJ,CAAC;AACD,eAAeb,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}