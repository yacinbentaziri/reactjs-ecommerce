{"ast":null,"code":"import axios from \"axios\";\nconst jwtInterceptor = axios.create({});\njwtInterceptor.interceptors.response.use(response => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  console.log(user);\n  return response;\n}, async error => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  console.log(user);\n  if (error.response.data.msg == \"jwt expired\") {\n    await axios.get(\"http://localhost:8000/api/auth/refreshtoken/\" + user.data._id, {\n      withCredentials: true\n    });\n  }\n});\nexport default jwtInterceptor;","map":{"version":3,"names":["axios","jwtInterceptor","create","interceptors","response","use","user","JSON","parse","localStorage","getItem","console","log","error","data","msg","get","_id","withCredentials"],"sources":["D:/mern-ecommerce/reactjs/src/helpers/jwtInterceptor.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst jwtInterceptor = axios.create({})\r\njwtInterceptor.interceptors.response.use(\r\n    (response) => {\r\n        const user = JSON.parse(localStorage.getItem(\"user\"))\r\n        console.log(user);\r\n\r\n        return response\r\n    }, async (error) => {\r\n        const user = JSON.parse(localStorage.getItem(\"user\"))\r\n        console.log(user);\r\n\r\n        if (error.response.data.msg == \"jwt expired\") {\r\n            await axios.get(\"http://localhost:8000/api/auth/refreshtoken/\" + user.data._id, { withCredentials: true })\r\n        }\r\n    }\r\n)\r\nexport default jwtInterceptor"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,cAAc,GAAGD,KAAK,CAACE,MAAM,CAAC,CAAC,CAAC,CAAC;AACvCD,cAAc,CAACE,YAAY,CAACC,QAAQ,CAACC,GAAG,CACnCD,QAAQ,IAAK;EACV,MAAME,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrDC,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC;EAEjB,OAAOF,QAAQ;AACnB,CAAC,EAAE,MAAOS,KAAK,IAAK;EAChB,MAAMP,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrDC,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC;EAEjB,IAAIO,KAAK,CAACT,QAAQ,CAACU,IAAI,CAACC,GAAG,IAAI,aAAa,EAAE;IAC1C,MAAMf,KAAK,CAACgB,GAAG,CAAC,8CAA8C,GAAGV,IAAI,CAACQ,IAAI,CAACG,GAAG,EAAE;MAAEC,eAAe,EAAE;IAAK,CAAC,CAAC;EAC9G;AACJ,CACJ,CAAC;AACD,eAAejB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}